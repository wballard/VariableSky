<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<title>{{ page.title }}</title>

<link rel="stylesheet" href="stylesheets/bootstrap.min.css">
<link rel="stylesheet" href="stylesheets/github.css">
<link rel="stylesheet" href="stylesheets/tweaks.css">
<script src="javascripts/jquery.min.js"></script>
<script src="javascripts/bootstrap.min.js"></script>


<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>
<body>

{% include nav.html %}

<div class="container main">
  <div class="row">
    <div class="col-lg-3" id="leftnav">
      <div class="well sidebar-nav">
        <ul class="nav nav-list" id="toc">
        </ul>
      </div>
    </div>
    <div class="col-lg-9" id="content">
      {{content}}
    </div>
  </div>
  <hr>
  <footer>
    <p>Copyright &copy; {{ site.time | date: "%Y" }}</p>
  </footer>
</div>

</body>
<script>
//auto active
$('li a').each(function(){
  if(this.href == window.location.href) {
    $(this).parent().addClass('active');
  }
})
//room for the nav
$(document).on('click', function(event){
  if(event.target.href) {
    setTimeout(function(){
      console.log(event);
      console.log($('body').scrollTop());
      $('body').scrollTop($('body').scrollTop() - 50);
    });
  }
});
//autotoc
var $nested = null;
var tocItems = 0;
$(':header').each(function(){
  if(this.tagName == 'H4') return;
  var $link = $('<li><a href="#">Link</a></li>');
  var $toc = $('#toc');
  $link.find('a').attr('href',"#"+this.id).text(this.innerText);
  if(this.tagName == 'H2') {
    $nested = $('<ul/>');
    $link.append($nested);
    $toc.append($link);
    tocItems++;
  }
  if(this.tagName == 'H3') {
    $nested.append($link);
  }
});
if(tocItems == 0) {
  $('#leftnav').hide();
}
$('table').addClass('table table-bordered table-striped');
</script>
</html>
